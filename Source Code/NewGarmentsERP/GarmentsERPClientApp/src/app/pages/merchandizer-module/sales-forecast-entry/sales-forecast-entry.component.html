<div class="row">
  <div class="col-lg-12">
    <nb-card>
     
      
      <nb-card-header>
     
        Sales Forecast Entry
      
      </nb-card-header>
      <nb-card-body>
        <form #form="ngForm"  >
          <div class="row">
            <div class="col-sm-4 ">
              <div class="form-group">
                <label for="BuyerId" class="label text-dark">Buyer</label>
                
                <select id="BuyerId"  required #buyerId="ngModel"
                   [(ngModel)]="salesForecastEntryService.salesForecastEntry.buyerId"
                     class="form-control form-rounded form-control-sm  text-responsive" name="buyerId">
                  <option [ngValue]=0>Select </option>
                  <option *ngFor="let c of buyerList" [value]="c.id">{{c.contactName}}</option>
              </select>
              </div>
               <div class="text-left text-danger"
              *ngIf="salesForecastEntryService.salesForecastEntry.buyerId==''&&buyerId.touched">
              buyer name is required
              </div>
            </div>
            <div class="col-sm-4 ">
              <div class="form-group">
                <label for="agentId" class="label text-dark">Agent</label>
                
                <select id="agentId"   #agentId="ngModel"
                   [(ngModel)]="salesForecastEntryService.salesForecastEntry.agentId"
                     class="form-control form-rounded form-control-sm  text-responsive" name="agentId">
                  <option [ngValue]=0>Select </option>
                  <option *ngFor="let c of agentList" [value]="c.agentID">{{c.agent_Name}}</option>
              </select>
              </div>
            
            </div>
            <div class="col-sm-4 ">
              <div class="form-group">
                <label for="teamLeaderId" class="label text-dark">teamLeaderId</label>
                
                <select id="teamLeaderId"  required #teamLeaderId="ngModel"
                   [(ngModel)]="salesForecastEntryService.salesForecastEntry.teamLeaderId"
                     class="form-control form-rounded form-control-sm  text-responsive" name="teamLeaderId">
                  <option [ngValue]=0>Select </option>
                  <option *ngFor="let c of teamLeaderList" [value]="c.id">{{c.userId}}</option>
              </select>
              </div>
               <div class="text-left text-danger"
              *ngIf="salesForecastEntryService.salesForecastEntry.teamLeaderId==''&&teamLeaderId.touched">
              Team Leader name is required
              </div>
            </div>
            
          
          </div>
          <div class="row">
            <div class="col-sm-4 ">
              <div class="form-group">
                <label for="year" class="label text-dark">Year</label>
                
                <select id="year" required  #year="ngModel" (change)="onChangeYear(salesForecastEntryService.salesForecastEntry.buyerId,salesForecastEntryService.salesForecastEntry.teamLeaderId,salesForecastEntryService.salesForecastEntry.year)"
                   [(ngModel)]="salesForecastEntryService.salesForecastEntry.year"
                     class="form-control form-rounded form-control-sm  text-responsive" name="year">
                  <option [ngValue]=0>Select </option>
                  <option *ngFor="let y of yearList" [value]="y.year">{{y.year}}</option>
              </select>
              <div class="text-left text-danger"
              *ngIf="salesForecastEntryService.salesForecastEntry.year==''&&year.touched">
              Year is required
              </div>
              </div>
               
            </div>
            <div class="col-sm-4 ">
              <div class="form-group">
                <label for="month" class="label text-dark">Month</label>
                
                <select id="month"  disabled #month="ngModel" (change)="onChangeMonth(salesForecastEntryService.salesForecastEntry.year,salesForecastEntryService.salesForecastEntry.month)"
                   [(ngModel)]="salesForecastEntryService.salesForecastEntry.month"
                     class="form-control form-rounded form-control-sm  text-responsive" name="month">
                  <option [ngValue]=0>Select </option>
                  <option *ngFor="let m of monthList" [value]="m.monthName">{{m.monthName}}</option>
              </select>
              <div class="text-left text-danger"
              *ngIf="salesForecastEntryService.salesForecastEntry.month==''&&month.touched">
              Month is required
              </div>
              </div>
               
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label for="designation" class="label text-dark">Designation</label>
                <input  name="designation"
                 [(ngModel)]="salesForecastEntryService.salesForecastEntry.designation"
                   class="form-control form-rounded form-control-sm  text-responsive" type="text" id="designation"
                  placeholder="Designation">
              </div>
            </div>
         
        
          </div>
          <div class="row">
            <div class="col-sm-6 ">
              <div class="form-group">
                <input hidden name="id" [(ngModel)]="salesForecastEntryService.salesForecastEntry.id" type="text">
                <input hidden name="id" [(ngModel)]="salesForecastEntryService.salesForecastEntry.entryDate" type="text">
                <input hidden name="id" [(ngModel)]="salesForecastEntryService.salesForecastEntry.entryBy" type="text">
                <input hidden name="id" [(ngModel)]="salesForecastEntryService.salesForecastEntry.status" type="text">
                <button *ngIf="saveButton"  type="submit" nbButton [disabled]="form.invalid" (click)="onSubmit()" >Submit</button>
                <button *ngIf="updateButton" type="submit" nbButton [disabled]="form.invalid" (click)="onUpdate(salesForecastEntryService.salesForecastEntry,salesForecastEntryDetailsYearlyStandardFrom)" >Update</button>
                &nbsp;  &nbsp;  &nbsp;
                <button *ngIf="deleteButton" type="submit" nbButton  (click)="onDelete(salesForecastEntryService.salesForecastEntry,salesForecastEntryDetailsYearlyStandardFrom)" >Delete</button>
              </div>
            </div>
          </div>
       
        </form>
      </nb-card-body>
    </nb-card>
  </div>
</div>
<div class="row" >
  <div class="col-md-12">
    <nb-card>
      <nb-card-header
      > 
      Sales Forecast Entry Yearly
      <!-- <button
        class="btn btn-outline-success float-right"
        (click)="salesForecastEntryDetailsYearlyForm()"
      >
        <i class="fa fa-plus"></i>
      </button> -->
    
    </nb-card-header>
      <nb-card-body>
        <div class="col-md-12">
          <div class="smart-table-container">
            <div class="float-left"> <h6>Current Year :{{currentYear}}</h6> </div>
            <div class="float-right" > <h6 aria-readonly="true"> Previous Year:{{previousYear}}</h6></div>

            <br/>
            <br/>
           
          
            
            <form>
              <table class="">
                <thead>
                  <tr>
                    
                    <th scope="col">Month</th>
               
                    <th scope="col">Qnty Target</th>
                    <th scope="col">Value Target</th>
                    <th scope="col">Target Mint</th>

                    <th scope="col">Qnty Target</th>
                    <th scope="col">Value Target</th>
                    <th scope="col">Target Mint</th>
                
                   
                   
                   
                  </tr>
                </thead>
             
                  <tbody 
                  [formGroup]="fg"
                  *ngFor="let fg of salesForecastEntryDetailsYearlyStandardFrom.controls;let k=index">
                    <tr>
                
                       
        
                        <td >
                            
                          <input
                            class="form-control form-rounded form-control-sm " formControlName="month" readonly
                            type="text"
                            
                            placeholder="Month"
                            >
                          
                         
                        </td>
        
                       
      
                        <td>
                          
                          <input class="form-control form-rounded form-control-sm " formControlName="cyQntyTarget"type="text"placeholder="Qnty Target"
                           (change)="onChangeSum()" >
                        </td>
        
                        <td>
                          
                          <input class="form-control form-rounded form-control-sm " formControlName="cyValueTarget"type="text"placeholder="Value Target"(change)="onChangeSum()">
                        </td>
        
                        <td>
                          <input class="form-control form-rounded form-control-sm " formControlName="cyTargetMint"type="text"placeholder="Target Mint"(change)="onChangeSum()">
                        </td>
                        <td>
                          
                          <input class="form-control form-rounded form-control-sm " formControlName="pyQntyTarget"type="text" readonly>
                        </td>
        
                        <td>
                          
                          <input class="form-control form-rounded form-control-sm " formControlName="pyValueTarget"type="text" readonly>
                        </td>
        
                        <td>
                          <input class="form-control form-rounded form-control-sm " formControlName="pyTargetMint"type="text" readonly>
                        </td>
        
                    </tr>
                 
                  </tbody>
             
               
              </table>
            </form>
            <table>
              <tr>
                <td></td>
                <td>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <label for="total" class="label text-dark">Total:</label > &nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                </td>
                <td>
                  <input type="text"class="form-control form-rounded form-control-sm  "  value="{{sumOfCyQntyTarget}}" readonly>
                </td>
                <td>
                  
                 <input type="text" class="form-control form-rounded form-control-sm " value="{{sumCyValueTarget}}" readonly>
                </td>
                <td>
                  <input type="text" class="form-control form-rounded form-control-sm " value="{{sumOfCyTargetMint}}"readonly>
                </td>
                <td>
                  <input type="text"class="form-control form-rounded form-control-sm  "  value="{{sumOfPyQntyTarget}}" readonly>
                </td>
                <td>
                  <input type="text" class="form-control form-rounded form-control-sm " value="{{sumPyValueTarget}}" readonly>
                </td>
                <td>
                  <input type="text" class="form-control form-rounded form-control-sm " value="{{sumOfPyTargetMint}}"readonly>
                </td>

              </tr>
            </table>
           
           
          
            
          
            
         
              
          </div>
        </div>
       
      </nb-card-body>
    </nb-card>
  </div>
    
</div>



  
  